@page
@model asp_presentacion.Pages.Ventanas.ConfigUsuarioModel
@{
    ViewData["Title"] = "Configuración de Usuario";
}

<div class="container-fluid mt-4">
    <div class="row">

        <div class="col-md-3 bg-dark text-light p-3" style="min-height: 100vh;">
            <h4 class="mb-4">⚙ Ajustes</h4>

            <ul class="nav flex-column">

                <li class="nav-item mb-2">
                    <form method="post" asp-page-handler="Modificar">
                        <button class="btn btn-outline-light w-100 text-start">Modificar Perfil</button>
                    </form>
                </li>

                <li class="nav-item mb-2">
                    <button type="button"
                            class="btn btn-outline-danger w-100 text-start"
                            data-bs-toggle="modal" data-bs-target="#modalBorrar">
                        Borrar Cuenta
                    </button>
                </li>

                <li class="nav-item mt-4">
                    <a class="btn btn-secondary w-100 text-start"
                       asp-page="/Ventanas/UsuarioPrincipal">
                        ⬅ Volver al Portal
                    </a>
                </li>

            </ul>
        </div>

        <div class="col-md-9 p-4">
            <h3>Información Personal</h3>
            <hr />

            <div class="mb-3"><strong>Nombre:</strong> @Model.Usuario?.Nombre</div>
            <div class="mb-3"><strong>Correo:</strong> @Model.Usuario?.Correo</div>

            <div class="mb-3">
                <strong>Rol:</strong>
                @(Model.Usuario?.RolId == 1 ? "Usuario"
                                : Model.Usuario?.RolId == 2 ? "Coach"
                                : "Otro")
            </div>

            @if (ViewData.ContainsKey("Mensaje"))
            {
                @await Html.PartialAsync("Mensajes", ViewData["Mensaje"])
            }

        </div>
    </div>
</div>


<div class="modal fade" id="modalBorrar" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title">Confirmar Eliminación</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body">
                ¿Seguro que deseas eliminar tu cuenta?
                <br />Esta acción es irreversible.
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>

                <form method="post" asp-page-handler="Borrar">
                    <button type="submit" class="btn btn-danger">Sí, eliminar definitivamente</button>
                </form>
            </div>

        </div>
    </div>
</div>
